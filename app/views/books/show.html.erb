
  <main>
    <% if @book.errors.any? %>
      <%= @book.errors.count %>error prohibited this obj from being saved:
      <ul>
        <% @book.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    <% end %>
    <div class="container">
      <div class="row">
        <%= render 'list', books: @books, user: @user %>
        
        <div class="col-md-8 offset-md-1">
        <h2>Book detail</h2>
          <table class="table">
            <tbody>
              <tr>
                <td>
                  <%= link_to user_path(@book.user.id) do %>
                    <%= image_tag @book.user.get_profile_image(100,100) %><br>
                  <% end %>
                  <%= link_to user_path(@book.user_id) do %>
                    <%= @user.name %>
                  <% end %>
                </td>
                <td>
                  <%= link_to book_path(@book.id) do %>
                    <%= @book.title %>
                  <% end %>
                </td>
                <td>
                  <%= @book.body %>
                </td>
                <td>
                  <% if @book.user == current_user %>
                    <%= link_to 'Edit', edit_book_path, class: "btn btn-sm btn-success" %>
                    <%= link_to 'Destroy', destroy_book_path(@book.id), method: :delete, "data-confirm" => "本当に削除しますか？", class: "btn btn-sm btn-danger" %>
                  <% end %>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </main>
